<!DOCTYPE html> <html> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> RepoChat Arena | LM Arena </title> <meta name="author" content="LM Arena"> <meta name="description" content="A Live Benchmark for AI Software Engineers"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="/assets/img/vicuna.jpeg?101e2cca9da6907c55807adf8b3b38b7"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://lmarena.github.io/blog/2025/repochat-arena/"> <script src="/assets/js/theme.js?9a0c749ec5240d9cda97bc72359a72c0"></script> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>initTheme();</script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6" crossorigin="anonymous"></script> <script src="/assets/js/distillpub/template.v2.js"></script> <script src="/assets/js/distillpub/transforms.v2.js"></script> <script src="/assets/js/distillpub/overrides.js"></script> </head> <body> <d-front-matter> <script async type="text/json">
      {
            "title": "RepoChat Arena",
            "description": "A Live Benchmark for AI Software Engineers",
            "published": "February 12, 2025",
            "authors": [
              
              {
                "author": "Yifan Song*",
                "authorURL": "https://www.linkedin.com/in/yf-song/",
                "affiliations": [
                  {
                    "name": "UC Berkeley, CMU",
                    "url": ""
                  }
                ]
              },
              
              {
                "author": "Naman Jain*",
                "authorURL": "https://naman-ntc.github.io/",
                "affiliations": [
                  {
                    "name": "",
                    "url": ""
                  }
                ]
              },
              
              {
                "author": "Manish Shetty*",
                "authorURL": "https://manishs.org",
                "affiliations": [
                  {
                    "name": "",
                    "url": ""
                  }
                ]
              },
              
              {
                "author": "Wei-Lin Chiang*",
                "authorURL": "https://infwinston.github.io/",
                "affiliations": [
                  {
                    "name": "",
                    "url": ""
                  }
                ]
              },
              
              {
                "author": "Valerie Chen",
                "authorURL": "https://valeriechen.github.io/",
                "affiliations": [
                  {
                    "name": "",
                    "url": ""
                  }
                ]
              },
              
              {
                "author": "Wayne Chi",
                "authorURL": "https://waynchi.github.io",
                "affiliations": [
                  {
                    "name": "",
                    "url": ""
                  }
                ]
              },
              
              {
                "author": "Anastasios N. Angelopoulos",
                "authorURL": "http://angelopoulos.ai",
                "affiliations": [
                  {
                    "name": "",
                    "url": ""
                  }
                ]
              },
              
              {
                "author": "Ion Stoica",
                "authorURL": "https://people.eecs.berkeley.edu/~istoica/",
                "affiliations": [
                  {
                    "name": "",
                    "url": ""
                  }
                ]
              }
              
            ],
            "katex": {
              "delimiters": [
                {
                  "left": "$",
                  "right": "$",
                  "display": false
                },
                {
                  "left": "$$",
                  "right": "$$",
                  "display": true
                }
              ]
            }
          }
    </script> </d-front-matter> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title" href="/"> <span class="font-weight-bold">LM</span> Arena </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/"> </a> </li> <li class="nav-item "> <a class="nav-link" href="/about/">about </a> </li> <li class="nav-item active"> <a class="nav-link" href="/blog/">blog </a> </li> <li class="nav-item"> <button id="search-toggle" title="Search" onclick="openSearchModal()"> <span class="nav-link">ctrl k <i class="ti ti-search"></i></span> </button> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="post distill"> <d-title> <h1>RepoChat Arena</h1> <p>A Live Benchmark for AI Software Engineers</p> </d-title> <d-byline></d-byline> <d-article> <h2 id="introduction">Introduction</h2> <p>An integral part of using LLMs as part of a user’s coding workflow is navigating and understanding complex code bases. We launched <strong>RepoChat</strong> – a new arena that answers code-related queries using a user-provided github repository link.</p> <p>RepoChat lets models automatically retrieve relevant files from the given GitHub repository. It can resolve issues, review PRs, implement code, as well as answer higher level questions about the repositories-all without requiring users to provide extensive context.</p> <div class="video-container"> <video id="videoPlayer" autoplay="" loop="" muted="" playsinline=""> <source src="/assets/img/blog/repochat_arena/repochat_demo_video.mp4" type="video/mp4"></source> Your browser does not support the video tag. </video> </div> <p style="color:gray; text-align: center;">Video 1. A demo of RepoChat.</p> <style>.video-container{position:relative;width:90%;max-width:1200px;margin:auto}video{width:100%;border-radius:10px}</style> <p>So far, RepoChat has collected around <strong>20k battles</strong> and over <strong>4k votes</strong>. All statistics calculated in this blog use conversations and votes collected between <strong>November 30, 2024</strong> to <strong>Feburary 11, 2025</strong> inclusive.</p> <div style="margin-left: auto; margin-right: auto; width: fit-content;"> <table style="width:100%; border-collapse: collapse; border: 1px solid lightgray; background-color: white;"> <thead style="background-color: #cbe8f1; font-weight: bold; border-bottom: 1px solid lightgray;"> <tr> <th style="padding: 8px; border: 1px solid lightgray;">Metric</th> <th style="padding: 8px; border: 1px solid lightgray;">Value</th> </tr> </thead> <tbody> <tr style="background-color: white;"> <td style="padding: 8px; border: 1px solid lightgray;font-weight:500"># of conversations</td> <td style="padding: 8px; border: 1px solid lightgray; text-align: right;font-weight: 500">12,732</td> </tr> <tr style="background-color: #f9f9f9;"> <td style="padding: 8px; border: 1px solid lightgray;font-weight: 500"># of votes</td> <td style="padding: 8px; border: 1px solid lightgray; text-align: right;font-weight: 500">4,857</td> </tr> <tr style="background-color: white;"> <td style="padding: 8px; border: 1px solid lightgray;font-weight: 500"># of unique GitHub links (in convos)</td> <td style="padding: 8px; border: 1px solid lightgray; text-align: right;font-weight: 500">5,037</td> </tr> <tr style="background-color: #f9f9f9;"> <td style="padding: 8px; border: 1px solid lightgray;font-weight: 500"># of unique GitHub links (in votes)</td> <td style="padding: 8px; border: 1px solid lightgray; text-align: right;font-weight: 500">2,465</td> </tr> </tbody> </table> </div> <p style="color:gray; text-align: center;">Table 1. Number of conversations, votes, and unique GitHub links logged from 11/30/2024 - 02/11/2025.</p> <p>In this blog we will cover:</p> <ul> <li> <a href="#initial-leaderboards"><strong>Initial Results</strong></a>: our preliminary results for the RepoChat leaderboards</li> <li> <a href="#how-do-people-use-repochat"><strong>How do people use RepoChat</strong></a>: an analysis of the distribution of github links and user queries’ category, length, language, etc.</li> <li> <a href="#how-does-it-work"><strong>How does it work</strong></a>: a more technical and detailed explanation of the RepoChat pipeline and implementation</li> <li> <a href="#further-analysis-and-results"><strong>Further Analysis and Results</strong></a>: retriever and style controlled leaderboards, and other analysis of model rankings.</li> </ul> <h2 id="initial-leaderboards">Initial Leaderboards</h2> <p>Since there are two separate components (retriever and answer), we produce two separate leaderboards. Jump to <a href="#leaderboard-calculation">this section</a> for details about how the leaderboards are calculated, and to <a href="#further-analysis-and-results">further analysis</a> for more leaderboards such as <a href="#style-control">style-control</a>. All leaderboards can be reproduced using our <a href="https://colab.research.google.com/drive/1sdSE07D7IqKAdb8LwMlOGCIfmWih3Df3?usp=sharing" rel="external nofollow noopener" target="_blank">google colab notebook</a>.</p> <div style="margin-left: auto; margin-right: auto; width: fit-content;"> <table style="width:100%; border-collapse: collapse; border: 1px solid lightgray; background-color: white;"> <thead style="background-color: #cbe8f1; font-weight: bold; border-bottom: 1px solid lightgray;"> <tr> <th style="padding: 8px; border: 1px solid lightgray;">Rank</th> <th style="padding: 8px; border: 1px solid lightgray;">Model</th> <th style="padding: 8px; border: 1px solid lightgray;">Arena Score</th> <th style="padding: 8px; border: 1px solid lightgray;">95% CI</th> <th style="padding: 8px; border: 1px solid lightgray;">Votes</th> <th style="padding: 8px; border: 1px solid lightgray;">Org.</th> </tr> </thead> <tbody> <tr style="background-color: white;"> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">1</td> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">GPT 4o (20241120)</td> <td style="padding: 8px; text-align: left; border: 1px solid lightgray; font-weight: 500;">1088</td> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">+12 | -10</td> <td style="padding: 8px; text-align: left; border: 1px solid lightgray; font-weight: 500;">1647</td> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">OpenAI</td> </tr> <tr style="background-color: #f9f9f9;"> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">2</td> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">DeepSeek V3</td> <td style="padding: 8px; text-align: left; border: 1px solid lightgray; font-weight: 500;">1032</td> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">+24 | -21</td> <td style="padding: 8px; text-align: left; border: 1px solid lightgray; font-weight: 500;">362</td> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">DeepSeek</td> </tr> <tr style="background-color: white;"> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">3</td> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">Claude 3.5 Sonnet (20241022)</td> <td style="padding: 8px; text-align: left; border: 1px solid lightgray; font-weight: 500;">1015</td> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">+16 | -10</td> <td style="padding: 8px; text-align: left; border: 1px solid lightgray; font-weight: 500;">1737</td> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">Anthropic</td> </tr> <tr style="background-color: #f9f9f9;"> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">4</td> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">Gemini 2.0 Flash Exp</td> <td style="padding: 8px; text-align: left; border: 1px solid lightgray; font-weight: 500;">1005</td> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">+15 | -13</td> <td style="padding: 8px; text-align: left; border: 1px solid lightgray; font-weight: 500;">1066</td> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">Google</td> </tr> <tr style="background-color: white;"> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">5</td> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">Gemini 1.5 Pro</td> <td style="padding: 8px; text-align: left; border: 1px solid lightgray; font-weight: 500;">974</td> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">+19 | -16</td> <td style="padding: 8px; text-align: left; border: 1px solid lightgray; font-weight: 500;">789</td> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">Google</td> </tr> <tr style="background-color: #f9f9f9;"> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">6</td> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">GPT 4o mini (20240718)</td> <td style="padding: 8px; text-align: left; border: 1px solid lightgray; font-weight: 500;">970</td> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">+24 | -17</td> <td style="padding: 8px; text-align: left; border: 1px solid lightgray; font-weight: 500;">521</td> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">OpenAI</td> </tr> <tr style="background-color: white;"> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">7</td> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">LLaMA 3.1 405B Instruct FP8</td> <td style="padding: 8px; text-align: left; border: 1px solid lightgray; font-weight: 500;">914</td> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">+13 | -22</td> <td style="padding: 8px; text-align: left; border: 1px solid lightgray; font-weight: 500;">750</td> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">Meta</td> </tr> </tbody> </table> </div> <p style="color:gray; text-align: center;">Table 2. Arena ratings of seven popular models based on over 4K votes collected between November 30, 2024 to Feburary 11, 2025. This ranks the models for generating model response</p> <div style="margin-left: auto; margin-right: auto; width: fit-content;"> <table style="width:100%; border-collapse: collapse; border: 1px solid lightgray; background-color: white;"> <thead style="background-color: #cbe8f1; font-weight: bold; border-bottom: 1px solid lightgray;"> <tr> <th style="padding: 8px; border: 1px solid lightgray;">Rank</th> <th style="padding: 8px; border: 1px solid lightgray;">Model</th> <th style="padding: 8px; border: 1px solid lightgray;">Arena Score</th> <th style="padding: 8px; border: 1px solid lightgray;">95% CI</th> <th style="padding: 8px; border: 1px solid lightgray;">Org.</th> </tr> </thead> <tbody> <tr style="background-color: white;"> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">1</td> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">Gemini 1.5 Flash 002</td> <td style="padding: 8px; text-align: left; border: 1px solid lightgray; font-weight: 500;">1013</td> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">+14 | -21</td> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">Google</td> </tr> <tr style="background-color: #f9f9f9;"> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">2</td> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">GPT 4o mini (20240718)</td> <td style="padding: 8px; text-align: left; border: 1px solid lightgray; font-weight: 500;">987</td> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">+21 | -14</td> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">OpenAI</td> </tr> </tbody> </table> </div> <p style="color:gray; text-align: center;">Table 3. Arena ratings of the two retrievers based on 4K votes collected between November 30, 2024 to Feburary 11, 2025. This ranks the models for retrieving relevant files.</p> <h2 id="how-do-people-use-repochat">How do people use RepoChat?</h2> <p><strong>What types of Github links do users input?</strong> RepoChat features a wide range of GitHub links, including repositories, issues, pull requests, and others. We find that the vast majority (almost 80%) of user input links are repository links, followed by issues and branches.</p> <p><img src="/assets/img/blog/repochat_arena/PIC_pie_chart.png" alt="GitHub Link Categories" style="display:block; margin-top: auto; margin-left: auto; margin-right: auto; margin-bottom: auto; width: 70%"></p> <p style="color:gray; text-align: center;">Figure 1. Breakdown of the GitHub link categories in RepoChat by percentage.</p> <p><strong>What programming languages do people ask about?</strong> The following statistic is calculated based on the file extensions of the relevant files. This serves as an indicator of the programming languages users are most frequently inquiring about/coding in. The abundance of markdown files is primarily due to README files, which are often extracted due to containing critical descriptions and instructions for the repository.</p> <p><img src="/assets/img/blog/repochat_arena/PIC_file_type.png" alt="Programming Language Breakdown" style="display:block; margin-top: auto; margin-left: auto; margin-right: auto; margin-bottom: auto; width: 90%"></p> <p style="color:gray; text-align: center;">Figure 2. Breakdown of retrieved file types by percentage.</p> <p><strong>What natural languages do the user queries contain?</strong> Most of our votes contain user queries in English, followed by Russian and Chinese.</p> <p><img src="/assets/img/blog/repochat_arena/PIC_natural_language.png" alt="Natural Language Breakdown" style="display:block; margin-top: auto; margin-left: auto; margin-right: auto; margin-bottom: auto; width: 90%"></p> <p style="color:gray; text-align: center;">Figure 3. Breakdown of user query’s language by count.</p> <p><strong>How long are the user queries?</strong> The user query length varies significantly, ranging from a minimum of 1 token to a maximum of 1,406,325 tokens, with a median of 22 tokens. Short-length queries mostly consist of prose requesting implementations or instructions, whereas longer queries often include extensive code blocks.</p> <p><img src="/assets/img/blog/repochat_arena/PIC_query_len.png" alt="Query Length Distribution" style="display:block; margin-top: auto; margin-left: auto; margin-right: auto; margin-bottom: auto; width: 90%"></p> <p style="color:gray; text-align: center;">Figure 4. Distribution of user query length.</p> <p><strong>How long are the retrieved file contexts?</strong> The distribution of retrieved file content is more stable, with a median of 8,870, an average of 12,508, and a maximum of 126,329 tokens, with the occasional empty retrieval.</p> <p><img src="/assets/img/blog/repochat_arena/PIC_context_len.png" alt="Retrieved Context Length Distribution" style="display:block; margin-top: auto; margin-left: auto; margin-right: auto; margin-bottom: auto; width: 90%"></p> <p style="color:gray; text-align: center;">Figure 5. Distribution of retrieved file context length.</p> <p><strong>What are the most common user query types?</strong></p> <p>For more examples, please refer to the <a href="#appendix">appendix</a>. We have also released a dataset of around 4k battles <a href="https://huggingface.co/datasets/lmarena-ai/repochat-arena-battles-4k" rel="external nofollow noopener" target="_blank">here</a> on Hugging Face.</p> <ul> <li> <p><strong>High level questions about a repository:</strong></p> <ul> <li> <a href="https://github.com/Mrjoulin/ITMOLabs" rel="external nofollow noopener" target="_blank">https://github.com/Mrjoulin/ITMOLabs</a><br>“What is this repository about? How I can use it? What main languages and frameworks are used here?”</li> </ul> </li> <li> <p><strong>Specific how-to questions:</strong></p> <ul> <li> <a href="https://github.com/notfiz/de3u" rel="external nofollow noopener" target="_blank">https://github.com/notfiz/de3u</a><br>“How do I install this on Linux (Mint 22)? Be thorough.”</li> </ul> </li> <li> <p><strong>Implementation requests:</strong></p> <ul> <li> <a href="https://github.com/dipu-bd/lightnovel-crawler" rel="external nofollow noopener" target="_blank">https://github.com/dipu-bd/lightnovel-crawler</a><br>“Write a Python script that fetches the top 10 highest-rated light novels from Anilist and then downloads all of their volumes in .epub format using this.”</li> </ul> </li> <li> <p><strong>Specific explanation requests:</strong></p> <ul> <li> <a href="https://github.com/hhy-huang/GraphJudger" rel="external nofollow noopener" target="_blank">https://github.com/hhy-huang/GraphJudger</a><br>“How is the graph knowledge graph in this repository generated?”</li> </ul> </li> <li> <p><strong>Requests for solving an issue:</strong></p> <ul> <li> <a href="https://github.com/rust-lang/rfcs/issues/1856" rel="external nofollow noopener" target="_blank">https://github.com/rust-lang/rfcs/issues/1856</a><br>“In 100 words or less, what is the easiest approach to resolving this issue (without giving up)?”</li> </ul> </li> <li> <p><strong>Requests for reviewing a PR:</strong></p> <ul> <li> <a href="https://github.com/pandas-dev/pandas/pull/56061" rel="external nofollow noopener" target="_blank">https://github.com/pandas-dev/pandas/pull/56061</a><br>“Explain the optimization.”</li> </ul> </li> <li> <p><strong>Queries with code snippets, requests for modifying existing code, and debugging:</strong> (click the arrow to expand the full query)</p> <ul> <li> <a href="https://github.com/sktime/sktime" rel="external nofollow noopener" target="_blank">https://github.com/sktime/sktime</a><br> <details> <summary>"debug the code as a professional would do. The code is for running in jupyter.</summary> <pre style="background-color: #f9f9f9; padding: 8px; border: 1px solid lightgray; font-family: monospace;">
  import pandas as pd
  import numpy as np
  from sktime.forecasting.model_selection import (
      ForecastingOptunaSearchCV,
      ExpandingWindowSplitter,
      temporal_train_test_split
  )
  from sktime.forecasting.base import ForecastingHorizon
  from sktime.performance_metrics.forecasting import MeanAbsolutePercentageError
  from sktime.forecasting.compose import TransformedTargetForecaster
  from sktime.forecasting.statsforecast import (
      StatsForecastMSTL,
      StatsForecastAutoETS,
      StatsForecastAutoARIMA,
      StatsForecastAutoTheta
  )
  from sktime.transformations.series.detrend import Detrender
  from sktime.transformations.series.deseasonalize import Deseasonalizer
  import optuna
  import warnings

warnings.filterwarnings('ignore')

# Load your time series data

# Ensure 'pivot_table' is defined and contains the 'PAN4_PIBPMG4' series

y = pivot_table['PAN4_PIBPMG4']

# Split the data into train and test sets

y_train, y_test = temporal_train_test_split(y, test_size=8)

# Define the forecasting horizon

fh = ForecastingHorizon(np.arange(1, 9), is_relative=True)

# Set up cross-validation with an expanding window splitter

cv = ExpandingWindowSplitter(fh=fh, initial_window=len(y_train) - 8)

# Define the parameter space for tuning

param_distributions = {
'forecaster**season_length': optuna.distributions.CategoricalDistribution([(4,), (8,)]),
'forecaster**trend_forecaster': optuna.distributions.CategoricalDistribution([
StatsForecastAutoETS(model="ZZZ"),
StatsForecastAutoARIMA(seasonal=True),
StatsForecastAutoTheta()
]),
'forecaster\_\_stl_kwargs': {
'robust': optuna.distributions.CategoricalDistribution([True, False]),
'period': optuna.distributions.IntUniformDistribution(4, 8)
}
}

# Initialize the MSTL forecaster

mstl_forecaster = StatsForecastMSTL()

# Create a pipeline with optional transformations

forecaster = TransformedTargetForecaster(steps=[
("detrender", Detrender()),
("deseasonalizer", Deseasonalizer()),
("mstl_forecaster", mstl_forecaster)
])

# Set up the OptunaSearchCV

optuna_search = ForecastingOptunaSearchCV(
forecaster=forecaster,
cv=cv,
param_distributions=param_distributions,
scoring=MeanAbsolutePercentageError(symmetric=True),
n_trials=100,
random_state=42
)

# Fit the model

optuna_search.fit(y_train)

# Predict

y_pred = optuna_search.predict(fh)

# Evaluate

mape = MeanAbsolutePercentageError(symmetric=True)
final_mape = mape(y_test, y_pred)
print(f"Final sMAPE: {final_mape:.2f}")

# Plot results

import matplotlib.pyplot as plt

plt.figure(figsize=(15, 7))
plt.plot(y_train.index, y_train.values, label='Training Data', color='blue')
plt.plot(y_test.index, y_test.values, label='Test Data', color='green')
plt.plot(y_pred.index, y_pred.values, label='Predictions', color='red', linestyle='--')
plt.title('MSTL Forecast Results with Optuna Optimization')
plt.legend()
plt.grid(True)
plt.show()

# Save the best model

from joblib import dump
dump(optuna*search.best_forecaster*, 'best_mstl_model_optuna.joblib')
print("\nBest model saved as 'best_mstl_model_optuna.joblib'")

# Print additional optimization results

print("\nOptimization Results:")
print("="\*50)
print(f"Number of completed trials: {len(optuna*search.cv_results*)}")
print(f"Best trial number: {optuna*search.best_index*}")
print(f"Best sMAPE achieved during optimization: {optuna*search.best_score*:.2f}")

# Print best parameters

print("\nBest Parameters Found:")
print("="\*50)
for param, value in optuna*search.best_params*.items():
print(f"{param}: {value}")
  </pre>" </details> </li> </ul> </li> </ul> <h2 id="how-does-it-work">How Does It Work?</h2> <p>Each generated answer is the collaborative effort between two separate LLM models. The <strong>retriever model</strong> extracts the relevant files from the github repository according to the given user input. The extracted file contents are then concatenated together with the user query and used as a prompt for the <strong>answer model</strong>, which then generates the response. <img src="/assets/img/blog/repochat_arena/PIC_complete_pipeline.png" alt="RepoChat full pipeline" style="display:block; margin-top: auto; margin-left: auto; margin-right: auto; margin-bottom: auto; width: 60%"></p> <p style="color:gray; text-align: center;">Figure 6. A graphical representation of the full RepoChat retriever-&gt;answer pipeline.</p> <h3 id="file-retrieval">File Retrieval</h3> <p>We select two models as retrievers: <code class="language-plaintext highlighter-rouge">gemini-1.5-flash-002</code> and <code class="language-plaintext highlighter-rouge">gpt-4o-mini</code>.</p> <p>When a valid GitHub link is provided, the repository is cloned, and its file structure is extracted and formatted in an indented layout. The retriever model is then prompted to strategically identify files from the file structure that are potentially useful for answering the query. It then outputs these files in decreasing order of relevance and a specified markdown format.</p> <details> <summary>Click to view retriever prompt</summary> The following files are found in the repository:<br> {file structure}<br> Please provide a list of files that you would like to search for answering the user query. <br> Enclose the file paths in a list in a markdown code block as shown below:<br> ```<br> 1. [[ filepath_1 ]]\n<br> 2. [[ filepath_2 ]]\n<br> 3. [[ filepath_3 ]]\n<br> ...<br> ```<br> Think step-by-step and strategically reason about the files you choose to maximize the chances of finding the answer to the query. Only pick the files that are most likely to contain the information you are looking for in decreasing order of relevance. Once you have selected the files, please submit your response in the appropriate format mentioned above (markdown numbered list in a markdown code block). The filepath within [[ and ]] should contain the complete path of the file in the repository.<br> {query} </details> <h3 id="model-response-generation">Model Response Generation</h3> <p>The contents of relevant files are extracted, concatenated with the user query, and provided to the responding LLM as a prompt in a specified format. If the provided link is not a direct repository link but instead links to issues or pull requests, a query context section containing the content of the issue or PR thread is also included.</p> <details> <summary>Click to view answer model prompt format</summary> Here is a list of files in the repository that may help you answer the query:<br> {pairs of (file_name, file_content)}<br> ___<br><br> [INSTRUCTION]<br><br> You are an expert software engineer. Answer the following user query using provided context retrieved from the {repository_name} repository.<br><br> [QUERT CONTEXT]<br><br> {issue/PR content}<br><br> [USER QUERY]<br><br> {user query}<br><br> </details> <h2 id="further-analysis-and-results">Further Analysis and Results</h2> <h3 id="style-control">Style Control</h3> <p>Style (length and Markdown formatting) significantly impacts model ranking. A better formatted or visually appealing answer, though not necessarily better, is more likely to win. The style-controlled leaderboard isolates writing style from content quality. For details on our methodology, refer to <a href="https://blog.lmarena.ai/blog/2024/style-control/" rel="external nofollow noopener" target="_blank">this blog post</a>.</p> <div style="margin-left: auto; margin-right: auto; width: fit-content;"> <table style="width:100%; border-collapse: collapse; border: 1px solid lightgray; background-color: white;"> <thead style="background-color: #cbe8f1; font-weight: bold; border-bottom: 1px solid lightgray;"> <tr> <th style="padding: 8px; border: 1px solid lightgray;">Rank</th> <th style="padding: 8px; border: 1px solid lightgray;">Model</th> <th style="padding: 8px; border: 1px solid lightgray;">Arena Score</th> <th style="padding: 8px; border: 1px solid lightgray;">95% CI</th> <th style="padding: 8px; border: 1px solid lightgray;">Org.</th> </tr> </thead> <tbody> <tr style="background-color: white;"> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">1</td> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">Claude 3.5 Sonnet (20241022)</td> <td style="padding: 8px; text-align: left; border: 1px solid lightgray; font-weight: 500;">1031</td> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">+28 | -17</td> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">Anthropic</td> </tr> <tr style="background-color: #f9f9f9;"> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">2</td> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">GPT 4o (20241120)</td> <td style="padding: 8px; text-align: left; border: 1px solid lightgray; font-weight: 500;">1028</td> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">+23 | -24</td> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">OpenAI</td> </tr> <tr style="background-color: white;"> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">3</td> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">DeepSeek V3</td> <td style="padding: 8px; text-align: left; border: 1px solid lightgray; font-weight: 500;">1016</td> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">+27 | -25</td> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">DeepSeek</td> </tr> <tr style="background-color: #f9f9f9;"> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">4</td> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">Gemini 1.5 Pro</td> <td style="padding: 8px; text-align: left; border: 1px solid lightgray; font-weight: 500;">1007</td> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">+21 | -25</td> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">Google</td> </tr> <tr style="background-color: white;"> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">5</td> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">Gemini 2.0 Flash Exp</td> <td style="padding: 8px; text-align: left; border: 1px solid lightgray; font-weight: 500;">997</td> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">+20 | -23</td> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">Google</td> </tr> <tr style="background-color: #f9f9f9;"> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">6</td> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">GPT 4o mini (20240718)</td> <td style="padding: 8px; text-align: left; border: 1px solid lightgray; font-weight: 500;">963</td> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">+26 | -24</td> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">OpenAI</td> </tr> <tr style="background-color: white;"> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">7</td> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">LLaMA 3.1 405B Instruct FP8</td> <td style="padding: 8px; text-align: left; border: 1px solid lightgray; font-weight: 500;">956</td> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">+23 | -23</td> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">Meta</td> </tr> </tbody> </table> </div> <p style="color:gray; text-align: center;">Table 4. Style-controlled arena ratings of the answer models. </p> <p>Claude 3.5 Sonnet’s score and ranking has improved significantly with style control, claiming the top spot. GPT-4o’s score has decreased, greatly narrowing its lead over other models. Gemini 1.5 Pro has also seen a notable boost in score, climbing one rank higher.</p> <p><img src="/assets/img/blog/repochat_arena/PIC_ldb_vs_sc.png" alt="Original vs. Style-Controlled Leaderboard" style="display:block; margin-top: auto; margin-left: auto; margin-right: auto; margin-bottom: auto; width: 60%"></p> <p style="color:gray; text-align: center;">Figure 7. A comparison of the original and the style-controlled leaderboards of the answer models.</p> <p><strong>Why does style control affect models like Claude and GPT 4o so much?</strong></p> <p>This is likely because a significant portion of user queries are not focused on strictly code-writing tasks. Instead, many focus on code understanding—such as how to use the repository, its purpose, or other high-level questions—rather than specific code implementations. These types of queries shift the focus away from pure coding abilities, and instead place greater emphasis on organization and presentation, and overall style.</p> <p>Below is an example battle between Claude 3.5 Sonnet (20241022) and GPT 4o (20241120) with identical retrievals.</p> <p>The GitHub link is <strong>https://github.com/xtekky/gpt4free</strong>, and the user query is <strong>“Explain why in the new 0.4.0.0 version Blackbox provider is several times slower than in version 0.3.9.7”</strong></p> <details> <summary> Click to expand the example battle of Claude 3.5 Sonnet (20241022) vs. GPT 4o (20241120)</summary> <div style="margin-left: auto; margin-right: auto; width: fit-content;"> <table style="width:100%; table-layout: fixed; border-collapse: collapse; border: 1px solid lightgray; background-color: white;"> <thead style="background-color: #cbe8f1; font-weight: bold; border-bottom: 1px solid lightgray;"> <tr> <th style="padding: 8px; border: 1px solid lightgray; width: 50%;">Claude 3.5 Sonnet (20241022) Response</th> <th style="padding: 8px; border: 1px solid lightgray; width: 50%;">GPT 4o (20241120) Response</th> </tr> </thead> <tbody> <tr style="background-color: white;"> <td style="padding: 8px; border: 1px solid lightgray; vertical-align: top;"> <p>Let me analyze the code from the provided context to explain the potential reasons for Blackbox provider's slower performance in version 0.4.0.0.</p> <p>Looking at the <code>Blackbox.py</code> implementation, there are several key changes that could contribute to slower performance:</p> <ol> <li> <strong>Validation Process:</strong> The provider now implements a more complex validation process that requires fetching and parsing JavaScript files to obtain a validation token: <pre style="background-color: #f9f9f9; padding: 8px; border: 1px solid lightgray; font-family: monospace;">
            @classmethod
            async def fetch_validated(cls):
                cached_value = cls._load_cached_value()

                async with aiohttp.ClientSession() as session:
                    # Tries multiple URLs
                    urls_to_try = [
                        "https://www.blackbox.ai",
                        "https://api.blackbox.ai"
                    ]

                    for base_url in urls_to_try:
                        try:
                            async with session.get(base_url) as response:
                                if response.status != 200:
                                    continue
                                page_content = await response.text()
                                js_files = re.findall(r'static/chunks/\d{4}-[a-fA-F0-9]+\.js', page_content)
                                # Additional JS file parsing...
              </pre> </li> <li> <strong>Multiple URL Attempts:</strong> The code now tries multiple URLs and has to process multiple JavaScript files, which adds overhead: <ul> <li>It first tries <code>blackbox.ai</code>.</li> <li>Then falls back to <code>api.blackbox.ai</code>.</li> <li>For each URL, it has to download and parse multiple JS files.</li> </ul> </li> <li> <strong>Caching Implementation:</strong> While there is a caching mechanism implemented: <pre style="background-color: #f9f9f9; padding: 8px; border: 1px solid lightgray; font-family: monospace;">
            @classmethod
            def _load_cached_value(cls) -&gt; str | None:
                cache_file = cls._get_cache_file()
                if cache_file.exists():
                    try:
                        with open(cache_file, 'r') as f:
                            data = json.load(f)
                            return data.get('validated_value')
            </pre> <p>The cache might not be as effective as in previous versions, requiring more frequent validation token refreshes.</p> </li> <li> <strong>Additional Model Support:</strong> The provider now supports many more models and features: <pre style="background-color: #f9f9f9; padding: 8px; border: 1px solid lightgray; font-family: monospace;">
            vision_models = [default_vision_model, 'gpt-4o', 'gemini-pro', 'gemini-1.5-flash', 'llama-3.1-8b', 'llama-3.1-70b', 'llama-3.1-405b']
            web_search_models = ['blackboxai', 'meta-llama/Llama-3.3-70B-Instruct-Turbo', 'meta-llama/Meta-Llama-3.1-405B-Instruct-Lite-Pro']
            </pre> <p>This expanded model support likely requires additional validation and processing logic.</p> </li> </ol> <p>To improve performance, you could:</p> <ul> <li>Optimize the validation process to reduce unnecessary requests.</li> <li>Implement more aggressive caching of the validation token.</li> <li>Only load model information for the specific model being used.</li> <li>Consider using connection pooling to reduce connection overhead.</li> </ul> <p>The tradeoff seems to be between security/functionality and speed - the new version implements more robust validation and supports more features, but at the cost of performance.</p> <p>Would you like me to elaborate on any of these points or provide specific suggestions for optimizing the provider's performance?</p> </td> <td style="padding: 8px; border: 1px solid lightgray; vertical-align: top;"> <p>In version <strong>0.4.0.0</strong> of the <code>gpt4free</code> repository, the <strong>Blackbox provider</strong> is slower compared to version <strong>0.3.9.7</strong> likely due to several changes introduced in the newer implementation. Here's an analysis based on the provided context:</p> <hr> <h3>1. Enhanced <code>fetch_validated</code> Method in <code>Blackbox</code> </h3> <p>In <strong>version 0.4.0.0</strong>, the <code>Blackbox</code> provider introduces a more complex and robust mechanism for fetching and validating the <code>validated_value</code>. This involves:</p> <ul> <li> <strong>Fetching multiple JavaScript files</strong> from the <code>https://www.blackbox.ai</code> or <code>https://api.blackbox.ai</code> endpoints.</li> <li> <strong>Regex-based parsing of UUIDs</strong> in JavaScript files to extract the <code>validated_value</code>.</li> <li> <strong>Checking the context around the UUID</strong> to ensure it is valid.</li> <li> <strong>Retries and handling multiple URLs</strong>, which adds overhead.</li> </ul> <p>This validation mechanism includes additional asynchronous calls and error handling. While it improves reliability, it significantly increases the response time.</p> <p><strong>Comparison to version 0.3.9.7:</strong> The earlier version likely used a simpler or cached approach for this process, avoiding the need to repeatedly process JavaScript files and perform context validation.</p> <hr> <h3>2. Increased Error Handling and Retrying</h3> <p>The new implementation introduces more robust error-handling mechanisms, including:</p> <ul> <li> <strong>Retry loops</strong> for fetching JavaScript files and API calls.</li> <li> <strong>Exponential backoff with random delays</strong> when processing requests.</li> <li> <strong>Fallbacks for cached values</strong> if validation fails.</li> </ul> <p>While this improves reliability and stability, each retry and delay adds to the total processing time.</p> <hr> <h3>3. Web Search Integration</h3> <p>The <code>create_async_generator</code> function now has an optional <strong>web search</strong> feature:</p> <ul> <li>If <code>web_search</code> is enabled, the provider calls an external search engine (via <code>get_search_message</code>) to refine the user's query.</li> <li>Although <code>web_search</code> is optional, if enabled, it introduces significant latency due to network calls and extra processing.</li> </ul> <hr> <h3>4. Increased Complexity in Request Data Preparation</h3> <p>The new implementation constructs a more detailed payload for the API request:</p> <ul> <li> <strong>Agent modes</strong> (e.g., <code>agentMode</code>, <code>trendingAgentMode</code>) are retrieved and included in the payload.</li> <li> <strong>Model-specific settings</strong>, including image generation and other configurations, are passed in the data.</li> <li> <strong>Image processing</strong> (if images are included) involves converting to data URIs.</li> </ul> <p>This additional processing step before sending the request increases the latency.</p> <hr> <h3>5. More Advanced Delay and Retry Mechanisms</h3> <p>When an API request fails, the system uses:</p> <ul> <li> <strong>Exponential backoff delays:</strong> <code>delay * (2 ** attempt) + random.uniform(0, 1)</code> </li> <li> <strong>Retries (default <code>max_retries=3</code>):</strong> Every failed request results in subsequent retries.</li> </ul> <p>These features, while improving resilience, can slow down the overall response time if the API is unreliable or under heavy load.</p> <hr> <h3>6. Additional Debugging and Logging</h3> <p>The new version includes enhanced debugging and logging mechanisms (<code>debug.log</code>):</p> <ul> <li>Each step, including validation, retries, and errors, is logged.</li> <li>While useful for debugging, this can also slightly slow down execution, especially in development or verbose logging environments.</li> </ul> <hr> <h3>7. Potential API Changes on Blackbox's Side</h3> <p>If the Blackbox API itself has undergone changes between the two versions, such as stricter validation or slower endpoints, this could also contribute to the slowdown. The need to fetch and validate <code>validated_value</code> repeatedly suggests that the newer version is designed to handle a more restrictive or rate-limited API.</p> <hr> <h3>8. Cache Mechanism vs. Real-Time Validation</h3> <p>In version <strong>0.3.9.7</strong>, the <code>validated_value</code> may have been cached and reused across requests, reducing overhead. In version <strong>0.4.0.0</strong>, the <code>_load_cached_value</code> and <code>_save_cached_value</code> methods are still present, but more emphasis is placed on real-time validation through <code>fetch_validated</code>, which is inherently slower.</p> <hr> <h3>Summary of Reasons for Slowdown</h3> <ol> <li> <strong>More Robust <code>fetch_validated</code> Method:</strong> Repeatedly fetching and parsing JavaScript files for UUID validation adds significant overhead.</li> <li> <strong>Increased Error Handling and Retries:</strong> New retry mechanisms and delays increase resilience but add latency.</li> <li> <strong>Optional Web Search:</strong> If enabled, it introduces additional network calls and processing time.</li> <li> <strong>Enhanced Payload Preparation:</strong> More detailed request data adds preprocessing time.</li> <li> <strong>Reliance on Real-Time Validation:</strong> Real-time validation of the <code>validated_value</code> is slower than relying on cached values.</li> <li> <strong>API Changes on Blackbox's Side:</strong> Stricter validation or rate-limiting by the Blackbox API could also be contributing.</li> </ol> <hr> <h3>Recommendations to Improve Speed</h3> <ol> <li> <strong>Cache the <code>validated_value</code>:</strong> Implement more aggressive caching and reduce reliance on real-time validation.</li> <li> <strong>Optimize the <code>fetch_validated</code> process:</strong> Limit retries or check for updated values less frequently.</li> <li> <strong>Disable features like <code>web_search</code>:</strong> Only enable it if explicitly needed.</li> <li> <strong>Reduce retry attempts and exponential backoff delays:</strong> Optimize for faster error recovery in non-critical use cases.</li> </ol> </td> </tr> </tbody> </table> </div> </details> <h3 id="retriever-control">Retriever Control</h3> <p>Just like style, the retrievers too have an effect on model answer. A model with with a more complete or relevant retrieval will likely produce a better answer. Similar to style-control, the retriever-controlled leaderboard separates the effect of the retrievers from the answer model ranking.</p> <div style="margin-left: auto; margin-right: auto; width: fit-content;"> <table style="width:100%; border-collapse: collapse; border: 1px solid lightgray; background-color: white;"> <thead style="background-color: #cbe8f1; font-weight: bold; border-bottom: 1px solid lightgray;"> <tr> <th style="padding: 8px; border: 1px solid lightgray;">Rank</th> <th style="padding: 8px; border: 1px solid lightgray;">Model</th> <th style="padding: 8px; border: 1px solid lightgray;">Arena Score</th> <th style="padding: 8px; border: 1px solid lightgray;">95% CI</th> <th style="padding: 8px; border: 1px solid lightgray;">Org.</th> </tr> </thead> <tbody> <tr style="background-color: white;"> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">1</td> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">GPT 4o (20241120)</td> <td style="padding: 8px; text-align: left; border: 1px solid lightgray; font-weight: 500;">1088</td> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">+12 | -10</td> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">OpenAI</td> </tr> <tr style="background-color: #f9f9f9;"> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">2</td> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">DeepSeek V3</td> <td style="padding: 8px; text-align: left; border: 1px solid lightgray; font-weight: 500;">1032</td> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">+24 | -21</td> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">DeepSeek</td> </tr> <tr style="background-color: white;"> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">3</td> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">Claude 3.5 Sonnet (20241022)</td> <td style="padding: 8px; text-align: left; border: 1px solid lightgray; font-weight: 500;">1015</td> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">+16 | -10</td> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">Anthropic</td> </tr> <tr style="background-color: #f9f9f9;"> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">4</td> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">Gemini 2.0 Flash Exp</td> <td style="padding: 8px; text-align: left; border: 1px solid lightgray; font-weight: 500;">1005</td> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">+15 | -13</td> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">Google</td> </tr> <tr style="background-color: white;"> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">5</td> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">Gemini 1.5 Pro</td> <td style="padding: 8px; text-align: left; border: 1px solid lightgray; font-weight: 500;">973</td> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">+20 | -16</td> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">Google</td> </tr> <tr style="background-color: #f9f9f9;"> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">6</td> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">GPT 4o mini (20240718)</td> <td style="padding: 8px; text-align: left; border: 1px solid lightgray; font-weight: 500;">971</td> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">+23 | -17</td> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">OpenAI</td> </tr> <tr style="background-color: white;"> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">7</td> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">LLaMA 3.1 405B Instruct FP8</td> <td style="padding: 8px; text-align: left; border: 1px solid lightgray; font-weight: 500;">914</td> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">+14 | -22</td> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">Meta</td> </tr> </tbody> </table> </div> <p style="color:gray; text-align: center;">Table 5. Retriever-controlled arena ratings of the answer models. </p> <p>The retriever-controlled leaderboard shows only slight differences from the original, as the two chosen retrievers perform similarly and have little influence on the rankings</p> <h3 id="style--retriever-control">Style + Retriever Control</h3> <div style="margin-left: auto; margin-right: auto; width: fit-content;"> <table style="width:100%; border-collapse: collapse; border: 1px solid lightgray; background-color: white;"> <thead style="background-color: #cbe8f1; font-weight: bold; border-bottom: 1px solid lightgray;"> <tr> <th style="padding: 8px; border: 1px solid lightgray;">Rank</th> <th style="padding: 8px; border: 1px solid lightgray;">Model</th> <th style="padding: 8px; border: 1px solid lightgray;">Arena Score</th> <th style="padding: 8px; border: 1px solid lightgray;">95% CI</th> <th style="padding: 8px; border: 1px solid lightgray;">Org.</th> </tr> </thead> <tbody> <tr style="background-color: white;"> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">1</td> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">Claude 3.5 Sonnet (20241022)</td> <td style="padding: 8px; text-align: left; border: 1px solid lightgray; font-weight: 500;">1031</td> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">+28 | -17</td> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">Anthropic</td> </tr> <tr style="background-color: #f9f9f9;"> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">2</td> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">GPT 4o (20241120)</td> <td style="padding: 8px; text-align: left; border: 1px solid lightgray; font-weight: 500;">1028</td> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">+23 | -24</td> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">OpenAI</td> </tr> <tr style="background-color: white;"> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">3</td> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">DeepSeek V3</td> <td style="padding: 8px; text-align: left; border: 1px solid lightgray; font-weight: 500;">1016</td> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">+27 | -25</td> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">DeepSeek</td> </tr> <tr style="background-color: #f9f9f9;"> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">4</td> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">Gemini 1.5 Pro</td> <td style="padding: 8px; text-align: left; border: 1px solid lightgray; font-weight: 500;">1007</td> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">+21 | -25</td> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">Google</td> </tr> <tr style="background-color: white;"> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">5</td> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">Gemini 2.0 Flash Exp</td> <td style="padding: 8px; text-align: left; border: 1px solid lightgray; font-weight: 500;">997</td> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">+20 | -23</td> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">Google</td> </tr> <tr style="background-color: #f9f9f9;"> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">6</td> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">GPT 4o mini (20240718)</td> <td style="padding: 8px; text-align: left; border: 1px solid lightgray; font-weight: 500;">963</td> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">+26 | -24</td> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">OpenAI</td> </tr> <tr style="background-color: white;"> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">7</td> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">LLaMA 3.1 405B Instruct FP8</td> <td style="padding: 8px; text-align: left; border: 1px solid lightgray; font-weight: 500;">956</td> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">+23 | -23</td> <td style="padding: 8px; border: 1px solid lightgray; font-weight: 500;">Meta</td> </tr> </tbody> </table> </div> <p style="color:gray; text-align: center;">Table 6. Style-and-retriever-controlled arena ratings of the answer models. </p> <h3 id="leaderboard-calculation">Leaderboard Calculation</h3> <p>How do we get separate leaderboards for the retrievers and the answer models from one set of battles? Extra features!</p> <p>Chabot Arena leverages the <a href="https://en.wikipedia.org/wiki/Bradley%E2%80%93Terry_model" rel="external nofollow noopener" target="_blank"><strong>Bradley-Terry</strong></a> model for scoring model strength using pairwise battles. We adopt its <a href="https://blog.lmarena.ai/blog/2024/extended-arena/" rel="external nofollow noopener" target="_blank"><strong>statistical extension</strong></a> to evaluate the additional subparts–the retrievers–by integrating them as extra features just like the answer models. Each retriever feature takes values from {-1, 0, 1}, indicating whether it was active in the file retrieval for model_a, neither/both, or model_b, respectively. By performing Logistic Regression on these additional retriever features along with the original model features, we obtain coefficients that are later scaled to become the leaderboard scores. <img src="/assets/img/blog/repochat_arena/PIC_winrates.png" alt="Model Pairwise Winrates" style="display:block; margin-top: auto; margin-left: auto; margin-right: auto; margin-bottom: auto; width: 90%"></p> <p style="color:gray; text-align: center;">Figure 8. Fraction of model A wins for all non-tied battles.</p> <h2 id="whats-next">What’s Next?</h2> <p>We are actively collecting more votes and integrating new models, with plans for more comprehensive analysis down the line. Additionally, we are exploring ways to enhance RepoChat by incorporating features such as support for private repositories, GitLab integration, and improvements to our retrieval process. Community contributions are welcome—feel free to ping us if you’d like to get involved!</p> <h2 id="appendix">Appendix</h2> <ul> <li> <strong>High level questions about a repository:</strong> <ul> <li> <a href="https://github.com/lllyasviel/ControlNet" rel="external nofollow noopener" target="_blank">https://github.com/lllyasviel/ControlNet</a><br>“Explain”</li> <li> <a href="https://github.com/remix-run/react-router" rel="external nofollow noopener" target="_blank">https://github.com/remix-run/react-router</a><br>“How to use this repo?”</li> </ul> </li> <li> <p><strong>Specific how-to questions:</strong></p> <ul> <li> <a href="https://github.com/leecig/OpenDevin/tree/main" rel="external nofollow noopener" target="_blank">https://github.com/leecig/OpenDevin/tree/main</a><br>“How do I use a local LLM being ran by LMStudio?”</li> <li> <a href="https://github.com/ohmyzsh/ohmyzsh/" rel="external nofollow noopener" target="_blank">https://github.com/ohmyzsh/ohmyzsh/</a><br>“Tell me, what it means and how to use the <code class="language-plaintext highlighter-rouge">kubectx_mapping</code> in the plugins/kubectx?”</li> </ul> </li> <li> <p><strong>Implementation requests:</strong></p> <ul> <li> <a href="https://github.com/varungodbole/prompt-tuning-playbook" rel="external nofollow noopener" target="_blank">https://github.com/varungodbole/prompt-tuning-playbook</a><br>“Help me design a system prompt to extract metrics from financial reports.”</li> <li> <a href="https://github.com/ocaml/ocaml" rel="external nofollow noopener" target="_blank">https://github.com/ocaml/ocaml</a><br>“If I wanted to implement partial escape analysis, which of the OCaml Intermediate Representations would be best suited and where should I make the change?”</li> </ul> </li> <li> <p><strong>Specific explanation requests:</strong></p> <ul> <li> <a href="https://github.com/ant-design/ant-design" rel="external nofollow noopener" target="_blank">https://github.com/ant-design/ant-design</a><br>“Why does Ant Design 5 decide to use CSS-in-JS?”</li> <li> <a href="https://github.com/celzero/rethink-app" rel="external nofollow noopener" target="_blank">https://github.com/celzero/rethink-app</a><br>“How are connection/network changes handled?”</li> </ul> </li> <li> <p><strong>Requests for solving an issue:</strong></p> <ul> <li> <a href="https://github.com/HALF111/calibration_CDS" rel="external nofollow noopener" target="_blank">https://github.com/HALF111/calibration_CDS</a><br>“Solve this issue.”</li> <li> <a href="https://github.com/pyca/cryptography/issues/7189" rel="external nofollow noopener" target="_blank">https://github.com/pyca/cryptography/issues/7189</a><br>“Using asyncssh can fix the immediate loading error for the PEM file, but when accessing <code class="language-plaintext highlighter-rouge">cert.extensions</code> it still errors out with the same ordering issue.”</li> </ul> </li> <li> <p><strong>Requests for reviewing a PR:</strong> - <a href="https://github.com/fairy-stockfish/Fairy-Stockfish/pull/758" rel="external nofollow noopener" target="_blank">https://github.com/fairy-stockfish/Fairy-Stockfish/pull/758</a><br>“Review this PR.” - <a href="https://github.com/ggerganov/llama.cpp/pull/10455" rel="external nofollow noopener" target="_blank">https://github.com/ggerganov/llama.cpp/pull/10455</a><br>“What type of speculative decoding is supported with this pull request? “</p> </li> <li> <p><strong>Queries with code snippets, requests for modifying existing code, and debugging:</strong> (click the arrow to expand the full query)</p> <ul> <li> <a href="https://github.com/julien-blanchon/arxflix/tree/feat/groq_whisper" rel="external nofollow noopener" target="_blank">https://github.com/julien-blanchon/arxflix/tree/feat/groq_whisper</a><br> <details> <summary>"when using the gradio interface, the stage of generating video get me this error :</summary> <pre style="background-color: #f9f9f9; padding: 8px; border: 1px solid lightgray; font-family: monospace;">
  INFO:__main__:Generated assets successfully.
  INFO:backend.main:Generating video to output.mp4 from tmpmpc_r1vm
  Free port: 55427
  Exposed directory /var/folders/3j/jv5_hbgn59g9yxccxtfcvz4r0000gp/T/tmpmpc_r1vm
  Starting up http-server, serving /var/folders/3j/jv5_hbgn59g9yxccxtfcvz4r0000gp/T/tmpmpc_r1vm

http-server version: 14.1.1

http-server settings:
CORS: true
Cache: 3600 seconds
Connection Timeout: 120 seconds
Directory Listings: visible
AutoIndex: visible
Serve GZIP Files: false
Serve Brotli Files: false
Default File Extension: none

Available on:
http://localhost:55427
Hit CTRL-C to stop the server

INFO:backend.utils.generate_video:Exposed directory /var/folders/3j/jv5_hbgn59g9yxccxtfcvz4r0000gp/T/tmpmpc_r1vm
INFO:backend.utils.generate_video:Generating video to /var/folders/3j/jv5_hbgn59g9yxccxtfcvz4r0000gp/T/tmpmpc_r1vm/output.mp4
(node:93666) ExperimentalWarning: CommonJS module /opt/homebrew/lib/node_modules/npm/node_modules/debug/src/node.js is loading ES Module /opt/homebrew/lib/node_modules/npm/node_modules/supports-color/index.js using require().
Support for loading ES Module in require() is an experimental feature and might change at any time
(Use `node --trace-warnings ...` to show where the warning was created)
Bundled code ━━━━━━━━━━━━━━━━━━ 550ms
[Fri Dec 06 2024 00:02:39 GMT+0100 (Central European Standard Time)] "GET /audio.wav" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) HeadlessChrome/131.0.6778.87 Safari/537.36"
(node:93654) [DEP0066] DeprecationWarning: OutgoingMessage.prototype.\_headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
Composition Arxflix
Codec h264
Output /var/folders/3j/jv5_hbgn59g9yxccxtfcvz4r0000gp/T/tmpmpc_r1vm/output.mp4
Concurrency 1x
Rendering frames ━━━━━━━━━━━━━━━━━━ 0/2353
Encoding video ━━━━━━━━━━━━━━━━━━ 0/2353[Fri Dec 06 2024 00:02:39 GMT+0100 (Central European Standard Time)] "GET /subtitles.srt" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) HeadlessChrome/131.0.6778.87 Safari/537.36"
[Fri Dec 06 2024 00:02:39 GMT+0100 (Central European Standard Time)] "GET /rich.json" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) HeadlessChrome/131.0.6778.87 Safari/537.36"
node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.production.min.js:187 Error: No "src" prop was passed to <img>.
at ImgRefForwarding (http://localhost:3000/bundle.js:26884:15)
at Nh (http://localhost:3000/bundle.js:25838:137)
at Yi (http://localhost:3000/bundle.js:25870:57)
at Vk (http://localhost:3000/bundle.js:25971:275)
at Uk (http://localhost:3000/bundle.js:25957:389)
at Tk (http://localhost:3000/bundle.js:25957:320)
at Ik (http://localhost:3000/bundle.js:25957:180)
at Nk (http://localhost:3000/bundle.js:25948:88)
at Gk (http://localhost:3000/bundle.js:25945:429)
at J (http://localhost:3000/bundle.js:34117:203)

An error occurred while rendering frame 0:
Error No "src" prop was passed to <img>.

at node_modules/.pnpm/remotion@4.0.171_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/remotion/dist/cjs/Img.js:19
17 │ const { delayPlayback } = (0, use_buffer_state_js_1.useBufferState)();
18 │ const sequenceContext = (0, react_1.useContext)(SequenceContext_js_1.SequenceContext);
19 │ if (!src) {
20 │ throw new Error('No "src" prop was passed to <img>.');
21 │ }
22 │ (0, react_1.useImperativeHandle)(ref, () =&gt; {

at Nh (node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.production.min.js:159)
at Yi (node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.production.min.js:191)
at Vk (node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.production.min.js:292)
at Uk (node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.production.min.js:278)
at Tk (node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.production.min.js:278)
at Ik (node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.production.min.js:278)
at Nk (node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.production.min.js:269)
at Gk (node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/cjs/react-dom.production.min.js:266)
at J (node_modules/.pnpm/scheduler@0.23.2/node_modules/scheduler/cjs/scheduler.production.min.js:12)
at R (node_modules/.pnpm/scheduler@0.23.2/node_modules/scheduler/cjs/scheduler.production.min.js:13)
INFO:backend.utils.generate_video:Generated video to /var/folders/3j/jv5_hbgn59g9yxccxtfcvz4r0000gp/T/tmpmpc_r1vm/output.mp4
http-server stopped.
INFO:**main**:Generated video successfully.
^CKeyboard interruption in main thread... closing server.
  </pre>" </details> </li> <li> <a href="https://github.com/feathers-studio/telegraf-docs" rel="external nofollow noopener" target="_blank">https://github.com/feathers-studio/telegraf-docs</a><br> <details> <summary>"bot.js:</summary> <pre style="background-color: #f9f9f9; padding: 8px; border: 1px solid lightgray; font-family: monospace;">
  require("dotenv").config();
    
  const { Telegraf, session } = require("telegraf");
  const { registerCommands } = require("./commands");
  const { registerHears } = require("./hears");
  const { registerScenes } = require("./scenes");
  const sequelize = require("./database");
  const User = require("./models/user");
  const { t, i18next } = require("./i18n");
  const Plans = require("./models/plans");
    
  // sync database
  (async () =&gt; {
  try {
      await sequelize.sync({ force: true });
      console.log("database synchronized successfully.");
    
      const bot = new Telegraf(process.env.BOT_TOKEN);
    
      const defaultPlan = await Plans.findOne({ where: { isDefault: true } });
      if (!defaultPlan) {
      await Plans.create({
          name: "atom",
          isDefault: true,
          price: 0,
      });
      console.log("default plan created.");
      }
    
      // telegraf.js sessions
      bot.use(
      session({
          defaultSession: () =&gt; ({ counter: 0, userName: "" }), // Initialize session variables
      })
      );
      // user check/creation middleware
      bot.use(async (ctx, next) =&gt; {
      const telegramId = ctx.from.id;
      try {
          let user = await User.findOne({ where: { telegramId } });
          if (!user) {
          user = await User.create({
              name: ctx.from.first_name || "unknown",
              telegramId: telegramId,
          });
          console.log(
              `new user created: ${user.name} (id: ${user.telegramId})`
          );
          }
    
          ctx.session.isAuthorized = true;
          ctx.session.user = user;
          ctx.session.language = user.language || "ru";
    
          i18next.changeLanguage(ctx.session.language);
          return next();
      } catch (error) {
          console.error("error during user check/creation:", error);
          return ctx.reply(t("error_user_creation"));
      }
      });
    
      // register commands, hears, and scenes
      registerCommands(bot);
      registerHears(bot);
      registerScenes(bot);
    
      // start the bot
      bot.launch();
      console.log("bot is running.");
    
      // enable graceful stop
      process.once("SIGINT", () =&gt; bot.stop("SIGINT"));
      process.once("SIGTERM", () =&gt; bot.stop("SIGTERM"));
  } catch (error) {
      console.error("error initializing bot:", error);
  }
  })();
  </pre> don't do check in database at every message, but have a kind of cache in telegraf.js session" </details> </li> </ul> </li> </ul> </d-article> <d-appendix> <d-footnote-list></d-footnote-list> <d-citation-list></d-citation-list> </d-appendix> <d-bibliography src="/assets/bibliography/"></d-bibliography> <div id="giscus_thread" style="max-width: 930px; margin: 0 auto;"> <script>let giscusTheme=determineComputedTheme(),giscusAttributes={src:"https://giscus.app/client.js","data-repo":"lmarena/lmarena.github.io","data-repo-id":"","data-category":"Comments","data-category-id":"","data-mapping":"title","data-strict":"1","data-reactions-enabled":"1","data-emit-metadata":"0","data-input-position":"bottom","data-theme":giscusTheme,"data-lang":"en",crossorigin:"anonymous",async:""},giscusScript=document.createElement("script");Object.entries(giscusAttributes).forEach(([t,e])=>giscusScript.setAttribute(t,e)),document.getElementById("giscus_thread").appendChild(giscusScript);</script> <noscript>Please enable JavaScript to view the <a href="http://giscus.app/?ref_noscript" rel="external nofollow noopener" target="_blank">comments powered by giscus.</a> </noscript> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2026 LM Arena. </div> </footer> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> <script src="/assets/js/vanilla-back-to-top.min.js?f40d453793ff4f64e238e420181a1d17"></script> <script>addBackToTop();</script> <script type="module" src="/assets/js/search/ninja-keys.min.js?601a2d3465e2a52bec38b600518d5f70"></script> <ninja-keys hidebreadcrumbs noautoloadmdicons placeholder="Type to start searching"></ninja-keys> <script>let searchTheme=determineComputedTheme();const ninjaKeys=document.querySelector("ninja-keys");"dark"===searchTheme?ninjaKeys.classList.add("dark"):ninjaKeys.classList.remove("dark");const openSearchModal=()=>{const e=$("#navbarNav");e.hasClass("show")&&e.collapse("hide"),ninjaKeys.open()};</script> <script>const ninja=document.querySelector("ninja-keys");ninja.data=[{id:"nav-",title:"",section:"Navigation",handler:()=>{window.location.href="/"}},{id:"nav-about",title:"about",description:"",section:"Navigation",handler:()=>{window.location.href="/about/"}},{id:"nav-blog",title:"blog",description:"",section:"Navigation",handler:()=>{window.location.href="/blog/"}},{id:"post-our-response-to-39-the-leaderboard-illusion-39-writeup",title:"Our Response to &#39;The Leaderboard Illusion&#39; Writeup",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2025/our-response/"}},{id:"post-celebrating-community-impact-3m-votes-400-models-and-300-pre-release-tests",title:"Celebrating Community Impact: 3M+ votes, 400+ models, and 300+ pre-release tests",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2025/two-year-celebration/"}},{id:"post-does-sentiment-matter-too",title:"Does Sentiment Matter Too?",description:"Introducing Sentiment Control: Disentagling Sentiment and Substance",section:"Posts",handler:()=>{window.location.href="/blog/2025/sentiment-control/"}},{id:"post-how-many-user-prompts-are-new",title:"How Many User Prompts are New?",description:"Analysis of prompt freshness and benchmark contamination",section:"Posts",handler:()=>{window.location.href="/blog/2025/freshness/"}},{id:"post-lmarena-is-growing-to-support-our-community-platform",title:"LMArena is Growing to Support our Community Platform",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2025/new-beta/"}},{id:"post-introducing-the-search-arena-evaluating-search-enabled-ai",title:"Introducing the Search Arena: Evaluating Search-Enabled AI",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2025/search-arena/"}},{id:"post-lmarena-community-updates-looking-ahead",title:"LMArena Community Updates: Looking Ahead",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2025/new-discord-server/"}},{id:"post-webdev-arena",title:"WebDev Arena",description:"A Live LLM Leaderboard for Web App Development",section:"Posts",handler:()=>{window.location.href="/blog/2025/webdev-arena/"}},{id:"post-repochat-arena",title:"RepoChat Arena",description:"A Live Benchmark for AI Software Engineers",section:"Posts",handler:()=>{window.location.href="/blog/2025/repochat-arena/"}},{id:"post-arena-explorer",title:"Arena Explorer",description:"A topic modeling pipeline for LLM evals &amp; analytics",section:"Posts",handler:()=>{window.location.href="/blog/2025/arena-explorer/"}},{id:"post-code-editing-in-copilot-arena",title:"Code Editing in Copilot Arena",description:"Copilot Arena&#39;s Code Editing Leaderboard and Insights",section:"Posts",handler:()=>{window.location.href="/blog/2025/copilot-arena-edits/"}},{id:"post-copilot-arena",title:"Copilot Arena",description:"Copilot Arena&#39;s Initial Leaderboard, Insights, and a New Prompting Method for Code Completions",section:"Posts",handler:()=>{window.location.href="/blog/2024/copilot-arena/"}},{id:"post-chatbot-arena-categories",title:"Chatbot Arena Categories",description:"Definitions, Methods, and Insights",section:"Posts",handler:()=>{window.location.href="/blog/2024/arena-category/"}},{id:"post-preference-proxy-evaluations",title:"Preference Proxy Evaluations",description:"A New Benchmark for Evaluating Reward Models and LLM Judges",section:"Posts",handler:()=>{window.location.href="/blog/2024/preference-proxy-evaluations/"}},{id:"post-agent-arena",title:"Agent Arena",description:"A Platform for Evaluating and Comparing LLM Agents Across Models, Tools, and Frameworks",section:"Posts",handler:()=>{window.location.href="/blog/2024/agent-arena/"}},{id:"post-statistical-extensions-of-the-bradley-terry-and-elo-models",title:"Statistical Extensions of the Bradley-Terry and Elo Models",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/extended-arena/"}},{id:"post-chatbot-arena-new-blog",title:"Chatbot Arena New Blog",description:"A new chapter for Chatbot Arena!",section:"Posts",handler:()=>{window.location.href="/blog/2024/new-site/"}},{id:"post-redteam-arena",title:"RedTeam Arena",description:"An Open-Source, Community-driven Jailbreaking Platform",section:"Posts",handler:()=>{window.location.href="/blog/2024/redteam-arena/"}},{id:"post-does-style-matter",title:"Does Style Matter?",description:"Disentangling style and substance in Chatbot Arena",section:"Posts",handler:()=>{window.location.href="/blog/2024/style-control/"}},{id:"post-the-multimodal-arena-is-here",title:"The Multimodal Arena is Here!",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/multimodal/"}},{id:"post-introducing-hard-prompts-category-in-chatbot-arena",title:"Introducing Hard Prompts Category in Chatbot Arena",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/hard-prompts/"}},{id:"post-what-39-s-up-with-llama-3-arena-data-analysis",title:"What&#39;s up with Llama 3? Arena data analysis",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/llama3/"}},{id:"post-lmsys-chatbot-arena-kaggle-competition",title:"LMSYS Chatbot Arena Kaggle Competition",description:"Predicting Human Preference with $100,000 in Prizes",section:"Posts",handler:()=>{window.location.href="/blog/2024/kaggle-competition/"}},{id:"post-from-live-data-to-high-quality-benchmarks-the-arena-hard-pipeline",title:"From Live Data to High-Quality Benchmarks - The Arena-Hard Pipeline",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2024/arena-hard/"}},{id:"post-chatbot-arena-policy",title:"Chatbot Arena Policy",description:"Live and Community-Driven LLM Evaluation",section:"Posts",handler:()=>{window.location.href="/blog/2024/policy/"}},{id:"post-chatbot-arena-new-models-amp-elo-system-update",title:"Chatbot Arena - New models &amp; Elo system update",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2023/leaderboard-elo-update/"}},{id:"post-catch-me-if-you-can-how-to-beat-gpt-4-with-a-13b-model",title:"Catch me if you can! How to beat GPT-4 with a 13B model...",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2023/llm-decontaminator/"}},{id:"post-chatbot-arena-conversation-dataset-release",title:"Chatbot Arena Conversation Dataset Release",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2023/dataset/"}},{id:"post-chatbot-arena-leaderboard-updates-week-8",title:"Chatbot Arena Leaderboard Updates (Week 8)",description:"Introducing MT-Bench and Vicuna-33B",section:"Posts",handler:()=>{window.location.href="/blog/2023/leaderboard-week8/"}},{id:"post-chatbot-arena-leaderboard-updates-week-4",title:"Chatbot Arena Leaderboard Updates (Week 4)",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2023/leaderboard-week4/"}},{id:"post-chatbot-arena-leaderboard-updates-week-2",title:"Chatbot Arena Leaderboard Updates (Week 2)",description:"",section:"Posts",handler:()=>{window.location.href="/blog/2023/leaderboard-week2/"}},{id:"post-chatbot-arena",title:"Chatbot Arena",description:"Benchmarking LLMs in the Wild with Elo Ratings",section:"Posts",handler:()=>{window.location.href="/blog/2023/arena/"}},{id:"socials-email",title:"Send email",section:"Socials",handler:()=>{window.open("mailto:%6C%6D%61%72%65%6E%61.%61%69@%67%6D%61%69%6C.%63%6F%6D","_blank")}},{id:"light-theme",title:"Change theme to light",description:"Change the theme of the site to Light",section:"Theme",handler:()=>{setThemeSetting("light")}},{id:"dark-theme",title:"Change theme to dark",description:"Change the theme of the site to Dark",section:"Theme",handler:()=>{setThemeSetting("dark")}},{id:"system-theme",title:"Use system default theme",description:"Change the theme of the site to System Default",section:"Theme",handler:()=>{setThemeSetting("system")}}];</script> <script src="/assets/js/shortcut-key.js?6f508d74becd347268a7f822bca7309d"></script> </body> </html>